<app-menu></app-menu>

<div class="container mt-5 pt-5">
    <div class="row justify-content-center">
        <div class="col-4">

            <mat-card-title class="centrar">Login</mat-card-title>
            <mat-card-content>
                <form [formGroup]="formularioLogin" (ngSubmit)="onSubmit()" novalidate class="centrar">
                    <!-- <form [formGroup]="loginData" (ngSubmit)="onSubmit(formularioLogin.value)" novalidate> -->
                    <mat-form-field style="width:400px !important" appearance="legacy">
                        <mat-label>Usuario</mat-label>
                        <input matInput autofocus
                            [class.is-invalid]="formularioLogin.get('login')!.touched && formularioLogin.get('login')!.invalid"
                            type="text" formControlName="login">
                    </mat-form-field>
                    <br />
                    <div
                        *ngIf="!formularioLogin.get('login')?.valid && (formularioLogin.get('login')?.dirty ||formularioLogin.get('login')?.touched)">
                        <div [hidden]="!formularioLogin.get('login')!.errors!.required"> El nombre de usuario es
                            obligatorio </div>
                        <div [hidden]="!formularioLogin.get('login')!.errors!.minlength"> La longitud mínima es 6 </div>
                    </div>

                    <mat-form-field style="width:400px !important" appearance="legacy">
                        <mat-label>Password</mat-label>
                        <input matInput
                            [class.is-invalid]="formularioLogin.get('password')!.touched && formularioLogin.get('password')!.invalid"
                            type="password" formControlName="password"><br />
                    </mat-form-field>
                    <br />
                    <div
                        *ngIf="!formularioLogin.get('password')?.valid && (formularioLogin.get('password')?.dirty ||formularioLogin.get('password')?.touched)">
                        <div [hidden]="!formularioLogin.get('password')!.errors!.required"> El password es obligatorio
                        </div>
                        <div [hidden]="!formularioLogin.get('password')!.errors!.minlength"> La longitud mínima es 6
                        </div>
                    </div>

                    <br />
                    <button mat-flat-button color="primary" type="submit">Enviar</button>
                    <br />
                    <button mat-flat-button color="primary" (click)="loginAdmin()">Login Admin</button>
                    <br />                    
                    <button mat-flat-button color="primary" (click)="openDialog()">Dialog</button>
                    <p>Result from dialog: {{ result }}</p>
                </form>
            </mat-card-content>
        </div>
    </div>
    <br />
    <button class="btn btn-danger" (click)="check()">Check</button>

</div>